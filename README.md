# Simple RAG

Этот проект представляет собой простую RAG (Retrieval-Augmented Generation) систему, предназначенную для ответов на вопросы по базе знаний, хранящейся в формате Markdown (например, в Obsidian).

Система использует векторную базу данных [Qdrant](https://qdrant.tech/) для хранения и поиска релевантной информации и языковую модель через [Ollama](https://ollama.ai/) для генерации ответов на основе найденных данных.

На основе поста с tg канала:
[PythonPathMaster](https://t.me/PythonPathMaster)

## Развертывание

1.  **Запустите Qdrant:**
    Для запуска контейнера с Qdrant выполните команду:
    ```bash
    docker-compose up -d
    ```

2.  **Установите `uv`:**
    Если у вас еще не установлен `uv`, вы можете установить его с помощью `pip`:
    ```bash
    pip install uv
    ```

3.  **Настройте окружение (опционально):**
    Создайте файл `.env` в директории `src` и определите в нем следующие переменные:
    ```
    OLLAMA_MODEL=gemma3:12b
    QUERY_POINTS_LIMIT=2
    SENTENCE_TRANSFORMER=paraphrase-multilingual-MiniLM-L12-v2
    QDRANT_URL=localhost
    ```

## Использование

### Индексация данных

Для того чтобы система могла отвечать на вопросы, необходимо сначала проиндексировать вашу базу знаний.

Выполните следующую команду, указав путь к вашему Obsidian хранилищу Markdown-файлов:

```bash
uv run simple_rag.py index --path <путь_к_вашему_хранилищу>
```

Имя коллекции в Qdrant будет создано автоматически на основе имени директории вашего хранилища.

### Поиск и получение ответов

После индексации вы можете задавать вопросы системе.

```bash
uv run simple_rag.py search --collection <имя_коллекции> --query "<ваш_запрос>"
```

-   `--collection`: Укажите имя коллекции, которое было создано на этапе индексации.
-   `--query`: Ваш вопрос в кавычках.

Система найдет наиболее релевантные фрагменты текста в вашей базе знаний и сгенерирует ответ, указав источники.
